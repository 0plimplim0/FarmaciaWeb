<!-- Código transformado de productos.html con buscador y filtros funcionales -->
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Productos - Farmacias Acceso Vital</title>
    <link rel="stylesheet" href="./style/inicio.css" />
    <style>
      html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    body > section.productos-section {
      flex: 1;
    }

    footer {
      margin-top: auto;
    }


      .Titulo {
        width: 100%;
        background-color: #235099;
      }

      .productos-section {
        display: flex;
        flex-wrap: wrap;
        padding: 40px 20px;
        gap: 30px;
        justify-content: center;
      }

      .filtros {
        width: 250px;
        background-color: #f6f6f6;
        padding: 20px;
        padding-right: 25px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.05);
      }

      .filtros input[type="text"] {
        width: 100%;
        padding: 8px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .filtros h3 {
        margin-top: 0;
        font-size: 20px;
        color: #173668;
      }

      .filtros label {
        display: block;
        margin: 8px 0;
      }

      .grid-productos {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 100px;
      }

      .producto {
        background-color: white;
        padding: 15px;
        text-align: center;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        height: 100%;
        max-height: 304px;
      }

      .producto img {
        height: 100px;
        object-fit: contain;
        margin-bottom: 10px;
      }

      .producto button {
        margin-top: auto;
        background-color: #173668;
        color: white;
        border: none;
        padding: 8px;
        border-radius: 5px;
        cursor: pointer;
      }

      @media screen and (max-width: 768px) {
        .productos-section {
          flex-direction: row;
          gap: 20px;
        }

        .filtros {
          width: 100%;
        }

        .grid-productos {
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          gap: 30px;
          padding: 0 16px;
          align-items: start;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="nav_bar">
      <a href="index.html">
        <img class="logo" src="./img/logo.png" alt="Logo">
      </a>
      <button class="hamburguesa" aria-label="Menú">&#9776;</button>
      <div class="nav_links">
        <a href="productos.html">PRODUCTOS</a>
        <a href="nosotros.html">SOBRE NOSOTROS</a>
        <a href="carrito.html"><img src="./img/carrito-de-compras.png" class="carrito-img" alt="Carrito"></a>
      </div>
    </header>

    <!-- Título -->
    <section style="text-align:center; padding: 30px 0;" class="Titulo">
      <h1 style="font-size: 36px; color: #ffffff;">PRODUCTOS</h1>
    </section>

    <!-- Sección Productos -->
    <section class="productos-section">
      <!-- Filtros -->
      <aside class="filtros">
        <input type="text" id="buscador" placeholder="Buscar producto...">
        <h3>Filtrar por</h3>
        <strong>Categoría</strong>
        <label><input type="checkbox" name="categoria" value="vitaminas" /> Vitaminas y minerales</label>
        <label><input type="checkbox" name="categoria" value="cuidado" /> Cuidado personal</label>
        <label><input type="checkbox" name="categoria" value="herbario" /> Herbarios</label>
        <label><input type="checkbox" name="categoria" value="rebaja" /> Rebajas</label>
      </aside>

      <!-- Lista de productos -->
      <div class="grid-productos" id="contenedor-productos"></div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-contacto">
        <p>📞 11 2233 4455</p>
        <p>✉️ contacto@accesovital.mx</p>
      </div>
      <div class="footer-social">
        <p>Redes sociales</p>
        <a href="#"><img src="./img/instagram.png" alt="Instagram"></a>
        <a href="#"><img src="./img/facebook.png" alt="Facebook"></a>
      </div>
    </footer>

    <script>
      const btnHamburguesa = document.querySelector('.hamburguesa');
      const navLinks = document.querySelector('.nav_links');

      btnHamburguesa.addEventListener('click', () => {
        navLinks.classList.toggle('mostrar');
      });

      const productos = [
        { nombre: "Vitaminas", precio: 150, categoria: "vitaminas" },
        { nombre: "Multivitaminico", precio: 30, categoria: "vitaminas" },
        { nombre: "Jabón corporal", precio: 45, categoria: "cuidado" },
        { nombre: "Herbario Natural", precio: 120, categoria: "herbario" },
        { nombre: "Crema facial", precio: 80, categoria: "cuidado" },
        { nombre: "Infusión relajante", precio: 60, categoria: "herbario" },
        { nombre: "Colageno en polvo", precio: 99, categoria: "vitaminas" },
        { nombre: "Aceite esencial", precio: 55, categoria: "rebaja" }
      ];

      const contenedor = document.getElementById('contenedor-productos');
      const buscador = document.getElementById('buscador');

      document.querySelectorAll('input[name="categoria"]').forEach(cb => {
        cb.addEventListener('change', filtrarYMostrar);
      });
      buscador.addEventListener('input', filtrarYMostrar);

      function filtrarYMostrar() {
        const seleccionadas = [...document.querySelectorAll('input[name="categoria"]:checked')].map(cb => cb.value);
        const texto = buscador.value.toLowerCase();
        const filtrados = productos.filter(p => {
          const coincideCategoria = seleccionadas.length === 0 || seleccionadas.includes(p.categoria);
          const coincideBusqueda = p.nombre.toLowerCase().includes(texto);
          return coincideCategoria && coincideBusqueda;
        });
        mostrarProductos(filtrados);
      }

      function mostrarProductos(lista) {
        contenedor.innerHTML = '';
        lista.forEach(p => {
          const div = document.createElement('div');
          div.className = 'producto';
          div.innerHTML = `
            <img src="./img/medicina.png" alt="${p.nombre}">
            <p>${p.nombre}</p>
            <p>$${p.precio}</p>
            <button class="agregar-carrito" data-nombre="${p.nombre}" data-precio="${p.precio}">Agregar al carrito</button>
          `;
          contenedor.appendChild(div);
        });
        activarBotones();
      }

      function activarBotones() {
        document.querySelectorAll('.agregar-carrito').forEach(btn => {
          btn.addEventListener('click', () => {
            const nombre = btn.dataset.nombre;
            const precio = parseInt(btn.dataset.precio);
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            const existente = carrito.find(p => p.nombre === nombre);
            if (existente) {
              existente.cantidad += 1;
            } else {
              carrito.push({ nombre, precio, cantidad: 1 });
            }
            localStorage.setItem('carrito', JSON.stringify(carrito));
            mostrarNotificacion(`\"${nombre}\" se agregó al carrito`);
          });
        });
      }

      function mostrarNotificacion(texto) {
        const noti = document.getElementById('notificacion');
        noti.textContent = texto;
        noti.classList.add('mostrar');
        setTimeout(() => {
          noti.classList.remove('mostrar');
          setTimeout(() => noti.style.display = 'none', 300);
        }, 2000);
        noti.style.display = 'block';
      }

      // Inicial
      mostrarProductos(productos);
    </script>

    <!-- Notificación -->
    <div id="notificacion" style="display: none;"></div>
  </body>
</html>
